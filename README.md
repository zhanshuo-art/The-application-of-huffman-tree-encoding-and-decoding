# 哈夫曼编码解码器

## 项目简介
这是一个基于哈夫曼编码算法的文本压缩与解压工具，可以将英文文本编码为二进制串，实现数据压缩，并能通过编码本还原原始文本。

## 功能特点
- 🔐 **文本编码**：将英文文本转换为哈夫曼编码（二进制串）
- 📖 **编码本生成**：自动生成字符与编码的映射表（codebook.csv）
- 🔓 **文本解码**：根据编码本将二进制串还原为原文
- 📊 **压缩效率**：根据字符频率优化编码长度，高频字符编码更短

## 核心技术

### 哈夫曼编码原理
哈夫曼编码是一种无损数据压缩算法，通过变长编码实现压缩：

1. **频率统计**：统计文本中每个字符出现的频率
2. **构建哈夫曼树**：
   - 将每个字符作为叶子节点，频率作为权重
   - 使用优先队列（最小堆）选出频率最小的两个节点
   - 合并为新节点，权重为两者之和
   - 重复此过程直到只剩一个根节点
3. **生成编码**：
   - 从根节点到叶子节点的路径决定编码
   - 左子树路径记为 `0`，右子树路径记为 `1`
   - 高频字符靠近根节点，编码较短
   - 低频字符远离根节点，编码较长

**前缀编码特性**：任何字符的编码都不是其他字符编码的前缀，保证解码唯一性。

### 数据结构
- **哈夫曼树节点**：存储字符、频率及左右子节点指针
- **优先队列**：使用最小堆实现，确保每次取出频率最小的节点
- **编码映射表**：使用 `map<char, string>` 存储字符到编码的映射
- **解码映射表**：使用 `map<string, char>` 存储编码到字符的映射

## 使用方法

### 1. 编译程序
```bash
g++ huffman_encode.cpp -o encode
g++ huffman_decode.cpp -o decode
```

### 2. 编码文本
```bash
./encode
```
运行后输入文本（只支持英文字母和空格）：
```
请输入文本（只含有英文字母和空格）: hello world
```

程序会输出：
- 编码后的二进制串
- 生成 `codebook.csv` 编码本文件

示例输出：
```
Encoded text: 1010011100101...
Codebook saved to codebook.csv
```

### 3. 解码文本
在解码程序中修改 `codebook.csv` 的路径（第10行）：
```cpp
string csvFilePath = "your_path/codebook.csv";
```

运行解码程序：
```bash
./decode
```

输入编码后的二进制串：
```
请输入编码: 1010011100101...
```

程序会输出：
```
解码后的文本: hello world
```

## 编码本格式
`codebook.csv` 文件格式示例：
```csv
character,code
h,1010
e,00
l,11
o,010
 ,\n
w,001
r,1011
d,1001
```

## 工作流程

1. **编码流程**：
   ```
   原始文本 → 频率统计 → 构建哈夫曼树 → 生成编码表 → 输出编码串 + 编码本
   ```

2. **解码流程**：
   ```
   读取编码本 → 加载映射表 → 逐位解码 → 还原原始文本
   ```

## 应用场景
- 文件压缩（如 ZIP、RAR 等压缩工具的核心算法之一）
- 数据传输优化（减少传输数据量）
- 图像压缩（JPEG 格式中的一部分）
- 信息论与编码理论学习
- 数据结构与算法实践（优先队列、二叉树）

## 注意事项
- 当前版本仅支持英文字母和空格
- 编码和解码必须使用同一个编码本
- 解码时需确保编码本路径正确
- 对于只有一个字符的文本，编码为 `0`
